``` tsx
"use client";

import React, { useState } from "react";

import { Project } from "../types";

import { format } from "date-fns";

import {

Table,

TableBody,

TableCell,

TableHead,

TableHeader,

TableRow,

} from "@/components/ui/table";

import Link from "next/link";

import { Badge } from "@/components/ui/badge";

import Image from "next/image";

import {

DropdownMenu,

DropdownMenuContent,

DropdownMenuItem,

DropdownMenuSeparator,

DropdownMenuTrigger,

} from "@/components/ui/dropdown-menu";

import { Button } from "@/components/ui/button";

import {

Copy,

Download,

Edit3,

ExternalLink,

Eye,

MoreHorizontal,

Trash2,

} from "lucide-react";

import {

Dialog,

DialogContent,

DialogDescription,

DialogFooter,

DialogHeader,

DialogTitle,

} from "@/components/ui/dialog";

import { Input } from "@/components/ui/input";

import { Textarea } from "@/components/ui/textarea";

import { tree } from "next/dist/build/templates/app-page";

import { toast } from "sonner";

import { Label } from "@/components/ui/label";

  

interface ProjectTableProps {

projects: Project[];

onUpdateProject?: Function;

onDeleteProject?: Function;

onDuclicateProject?: Function;

}

  

interface EditProjectData {

title: string;

description: string;

}

  

const ProjectTable = ({

projects,

onDeleteProject,

onDuclicateProject,

onUpdateProject,

}: ProjectTableProps) => {

const [deleteDialogOpen, setDeleteDialogOpen] = useState(false);

const [editDialogOpen, setEditDialogOpen] = useState(false);

const [selectedProject, setSelectedProject] = useState<Project | null>(null);

const [editData, setEditData] = useState<EditProjectData>({

title: "",

description: "",

});

const [isLoading, setIsLoading] = useState(false);

const [favourite, setFavourite] = useState(false);

  

const handleEditClick = (project: Project) => {

setSelectedProject(project);

setEditData({

title: project.title,

description: project?.description || "",

});

setEditDialogOpen(true);

};

  

const handleUpdateProject = async () => {

if(!selectedProject || !onUpdateProject) return;

  

setIsLoading(true);

  

try {

await onUpdateProject(selectedProject.id, editData);

setEditDialogOpen(false);

setSelectedProject(null)

toast.success("Project Updated Successfully");

} catch (error) {

toast.error("Failed to update project");

console.log("Error updating project", error)

}

finally{

setIsLoading(false)

}

}

  

const handleDuplicateProject = (project: any) => {};

  

const copyProjectUrl = (project: any) => {};

  

const handleDeleteClick = (project: any) => {};

  

return (

<>

<div className="border rounded-lg overflow-hidden">

<Table>

<TableHeader>

<TableRow>

<TableHead>Project</TableHead>

<TableHead>Template</TableHead>

<TableHead>Created</TableHead>

<TableHead>user</TableHead>

<TableHead className="w-[50px]">Actions</TableHead>

</TableRow>

</TableHeader>

  

<TableBody>

{projects.map((project) => (

<TableRow key={project.id}>

<TableCell>

<div className="flex flex-col">

<Link

href={`/playground/${project.id}`}

className="hover:underline"

>

<span className="font-bold">{project.title}</span>

</Link>

<span className="text-sm text-gray-500 line-clamp-1">

{project.description}

</span>

</div>

</TableCell>

<TableCell>

<Badge

variant="outline"

className="bg-[#E93F3F15] text-[#E93F3F] border-[#E93F3F]"

>

{project.template}

</Badge>

</TableCell>

<TableCell>

{format(new Date(project.createdAt), "MMM d, yyyy")}

</TableCell>

<TableCell>

<div className="flex items-center gap-2">

<div className="w-8 h-8 rounded-full overflow-hidden">

<Image

src={project.user.image || "/placeholder.svg"}

alt={project.user.name}

width={32}

height={32}

className="object-cover"

/>

</div>

<span className="text-sm">{project.user.name}</span>

</div>

</TableCell>

<TableCell>

<DropdownMenu>

<DropdownMenuTrigger asChild>

<Button variant="ghost" size="icon" className="h-8 w-8">

<MoreHorizontal className="h-4 w-4" />

</Button>

</DropdownMenuTrigger>

<DropdownMenuContent>

<DropdownMenuItem asChild>

{/* <MarkedToggleButton

markedForRevision={project.Starmark[0]?.isMarked}

id={project.id}

/> */}

</DropdownMenuItem>

<DropdownMenuItem asChild>

<Link

href={`/playground/${project.id}`}

className="flex items-center"

>

<Eye className="h-4 w-4 mr-2" />

Open Project

</Link>

</DropdownMenuItem>

<DropdownMenuItem asChild>

<Link

href={`/playground/${project.id}`}

target="_blank"

className="flex items-center"

>

<ExternalLink className="h-4 w-4 mr-2" />

Open in New Tab

</Link>

</DropdownMenuItem>

<DropdownMenuSeparator />

<DropdownMenuItem

onClick={() => handleEditClick(project)}

>

<Edit3 className="h-4 w-4 mr-2" />

Edit Project

</DropdownMenuItem>

<DropdownMenuItem

onClick={() => handleDuplicateProject(project)}

>

<Copy className="h-4 w-4 mr-2" />

Duplicate

</DropdownMenuItem>

<DropdownMenuItem

onClick={() => copyProjectUrl(project.id)}

>

<Download className="h-4 w-4 mr-2" />

Copy URL

</DropdownMenuItem>

<DropdownMenuSeparator />

<DropdownMenuItem

onClick={() => handleDeleteClick(project)}

className="text-destructive focus:text-destructive"

>

<Trash2 className="h-4 w-4 mr-2" />

Delete Project

</DropdownMenuItem>

</DropdownMenuContent>

</DropdownMenu>

</TableCell>

</TableRow>

))}

</TableBody>

</Table>

</div>

  

<Dialog open={editDialogOpen} onOpenChange={setEditDialogOpen}>

<DialogContent className="sm:max-w-[425px]">

<DialogHeader>

<DialogTitle>Edit Project</DialogTitle>

<DialogDescription>

Make changes to your project details here. Click save when you're

done.

</DialogDescription>

</DialogHeader>

<div className="grid gap-4 py-4">

<div className="grid gap-2">

<Label htmlFor="title">Project title</Label>

<Input

id="title"

value={editData.title}

onChange={(e) =>

setEditData((prev) => ({ ...prev, title: e.target.value }))

}

placeholder="Enter project title"

/>

</div>

<div className="grid gap-2">

<Label htmlFor="description">Project description</Label>

<Textarea

id="description"

value={editData.description}

onChange={(e) =>

setEditData((prev) => ({

...prev,

description: e.target.value,

}))

}

placeholder="Enter project description"

rows={3}

/>

</div>

</div>

<DialogFooter>

<Button

type="button"

variant={"outline"}

onClick={() => setEditDialogOpen(false)}

disabled={isLoading}

>

Cancel

</Button>

<Button

type="button"

variant={"default"}

onClick={handleUpdateProject}

>{isLoading ? "Saving" : "Save Changes"}</Button>

</DialogFooter>

</DialogContent>

</Dialog>

</>

);

};

  

export default ProjectTable;
```
